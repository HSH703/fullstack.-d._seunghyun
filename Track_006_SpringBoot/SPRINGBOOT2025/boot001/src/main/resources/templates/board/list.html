<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
   xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
   layout:decorate="~{fragments/layout}">
<!--    #1. layout 렌더링    -->
<head lang="ko">
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<!-- http://localhost:8484/boot001/board/list -->
<body>
   <div layout:fragment="content">
     <!--  알림메시지  -->
     <div th:if="${success}" class="alert alert-info alert-dismissible fade show" role="alert">
         <span th:text="${success}"></span>
         <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
     </div>
   
      <h3 class="card-header">MBTI QUEST BOARD</h3>
      <table class="table table-striped table-bordered table-hover">
         <caption>mbti</caption>
         <thead>
            <tr>
               <th scope="col">NO</th>
               <th scope="col">TITLE</th>
               <th scope="col">NAME</th>
               <th scope="col">DATE</th>
               <th scope="col">HIT</th>
            </tr>
         </thead>
         <tbody>
         <!-- http://localhost:8484/boot001/board/list?pageNo=1 -->
         <!-- http://localhost:8484/boot001/board/list?pageNo=2 -->
         <!-- http://localhost:8484/boot001/board/list?pageNo=3 -->
			<tr th:each=" dto , i : ${list}">
				<td th:text="${paging.listtotal - ((paging.current-1)*paging.onepagelist) - i.index}" ></td>
 				<td th:text="${list.size()-i.index}" ></td>
				<td >
					<a  th:href="@{/board/detail(id=${dto.id})}"
						th:text="${dto.btitle}" ></a>
				</td>
				<td th:text="${dto.appUserId}" ></td>
				<td th:text="${dto.bhit}" ></td>
				<td th:text="${dto.createdAt}" ></td>
			</tr>
         </tbody>
      </table>
      <!-- Paging -->
      <!-- UtilPaging(listtotal=256, onepagelist=10, pagetotal=26, bottomlist=10, pstartno=0, current=1, start=1, end=10) -->
      <nav  th:if="${paging!=null}"  aria-label="Page navigation">
      	<ul class="pagination  justify-content-center">
      		<!-- <li th:text="${paging}" ></li> -->
      		<!-- 1 -  이전(1)  11  -  이전(11) 21 -->
      		<li class="page-item" th:if="${paging.start > 1}">
      			<a class="page-link"
      			   th:href="@{/board/list(pageNo=${paging.start - paging.bottomlist})}">이전</a>
      		</li>
      		
      		<!-- 1,2,3,4,5,6,7,8,9,10 -->
      		<li class="page-item"
      			th:each="pageNum :${#numbers.sequence(paging.start , paging.end)}"
      			th:classappend="${pageNum == paging.current} ? 'active' ">
      			<a class="page-link"
      			   th:href="@{/board/list(pageNo=${pageNum})}"
      			   th:text="${pageNum}"></a>
      		</li>
      		
      		<!-- 10 다음(11) - 20 다음(21) -->
      		<li class="page-item" th:if="${paging.end < paging.pagetotal}">
      			<a class="page-link"
      			  th:href="@{/board/list(pageNo=${paging.start + paging.bottomlist})}">다음</a>
      		</li>
      	</ul>
      </nav>
      
      <p class="text-end">
         <a th:href="@{/board/write}" class="btn btn-primary">글쓰기</a>
      </p>
      <p class="text-end alert alert-primary">로그인을 하면 글쓰기가능합니다.</p>

   </div>
   <!--    http://localhost:8484/boot001/board/list -->
</body>
</html>









