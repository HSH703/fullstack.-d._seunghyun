1.------------------
## Github
# ■ 자바




2.------------------
# ■ ORACLE
cmd 사용.



# ■ JAVA
# ■ SPRING
spring005_board
spring006_mybatis
spring007_paging




# ■ PROJECT
> 주제 
■1. 주요기능 - crud
본인 파트 주제: 반려동물 운동 정보 게시판

주요기능...
사용자, 관리자가 자유롭게 글을 작성 및 수정, 삭제도 할 수 있는 게시판을 구현
자유게시판느낌?

게시판관리
|      |    사용자       |     관리자       |	
|------|----------------|-----------------|
|CREATE| 게시판글쓰기     |   게시판글쓰기    |
|READ  |전체읽기, 상세읽기 | 전체읽기, 상세읽기|
|UPDATE|     글수정      |     글수정       |
|DELETE|     글삭제      |     글삭제       |      		       
	               	
	        
    		        
	  		        


■2. 흐름도
사용자, 관리자 
로그인후 (로그인전에는 전체글 확인 못하게하기)
│
├─▶ 전체글확인   ──▶ DB 조회 
│
├─▶ 글쓰기  	──▶ DB 저장
│
├─▶ 상세글확인 
│
├─▶ 글수정 ──▶ DBupdate
│
├─▶ 글삭제   DB삭제


■3. 피그마 - 그림

■4. erd - db 테스트 (동적 sql / 20251121에 배웠음.)

■5. 각각의 파트 구현


필기................................................

```
---
■ MYBATIS
> 동적sql
WHY)
select * from emp;
select * from emp where ename = 'Scott';
select * from emp where job   = 'SALESMAN';

---


---
SQL 구문 ) MYBATIS 3개
---


---
Q1) select * from emp where ${searchType} = #{keyword}
1-1. select * from emp where ename = 'Scott';
1-2. select * from emp where job   = 'SALESMAN'; 

${searchType} → '' 안붙음  stmt
#{keyword}    → '' 자동   pstmt
---


---
Q2) select * from emp where ename=#{ename} <if test="job!=null"> and job=#{job} </if>

select * from emp where ename = 'SMITH';
select * from emp where ename = 'SMITH' and job=#{CLERK};
---


---
Q3) select * from emp where empno=#{empno}
    <choose>
        <when test="ename != null"> and ename=#{ename} </when>
        <when test="job   != null"> and job=#{job}</when>
        <otherwise> and mgr=#{mgr} </otherwise>
    </choose> 

select * from emp where empno=7369 and mgr 7902
select * from emp where empno=7369 ename = 'SMITH' and mgr=7902;
select * from emp where empno=7369 ename = 'SMITH' and job='CLERK';
select * from emp where empno=7369 ename = 'SMITH' and job='CLERK' and mgr=7902;
---


---
Q4) select * from emp
    <where>
        <if test="ename != null"> and ename=#{ename} </if>
        <if test="job   != null"> and job=#{job}</if>
    </where> 

select * from emp
select * from emp where ename = 'SMITH';
select * from emp where job='CLERK';
select * from emp where ename = 'SMITH' and job='CLERK' and mgr=7902;
---


---
Q5) 
    update emp
    <set>
        <if test="ename != null"> ename=#{ename} ,</if>
        <if test="job   != null"> job=#{job}, </if>
    </set>
        where empno=#{empno}

update emp set  ename = #{ename} where empno=#{empno}
update emp set  job=#{job}       where empno=#{empno}
update emp set  ename = #{ename}, job=#{job} where empno=#{empno}
---


---
Q6)forEach

select * from emp
<where>
    empno in
    <foreach item="no" collection="list" separator="," open="(close)">#{no}</foreach>
</where> 
select * from emp where empno in (7369, 7499, 7521)
---


Q7) join

---
Q1. create table
create table authorities(
    email  varchar2(100) not null,
    auth    varchar2(100) not null
)

> desc authorities
SQL> desc authorities;
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 USERID                                    NOT NULL VARCHAR2(100)
 AUTH                                      NOT NULL VARCHAR2(100)

Q2. 필드명 바꾸기 : alter table authorities rename column userid to email;
alter table authorities rename column userid to email;

SQL> desc authorities;
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 EMAIL                                     NOT NULL VARCHAR2(100)
 AUTH                                      NOT NULL VARCHAR2(100)

Q3. 있는 email로 insert 하기 : '1@1' 'MEMBER' , '1@1', 'ADMIN'
SQL> insert into authorities (email, auth) values('1@1', 'MEMBER');
1 row created.

SQL> insert into authorities (email, auth) values('1@1', 'ADMIN');
1 row created.

SQL> select * from authorities;

EMAIL
--------------------------------------------------------------------------------
AUTH
--------------------------------------------------------------------------------
1@1
MEMBER

1@1
ADMIN

SQL> commit;

Commit complete.
---


Q4. join 이용해서 email, password, auth 출력--(join 구문 4가지)

---
Basic)
select u.email, password, auth 
from   appuser u, authorities a
where  u.email = a.email and u.email = '1@1';
EMAIL
--------------------------------------------------------------------------------
PASSWORD
--------------------------------------------------------------------------------
AUTH
--------------------------------------------------------------------------------
1@1

MEMBER

1@1

ADMIN

EMAIL
--------------------------------------------------------------------------------
PASSWORD
--------------------------------------------------------------------------------
AUTH
--------------------------------------------------------------------------------
---


---
Natural join)
select email, password, auth 
from   appuser natural join authorities 
where  email = '1@1';
EMAIL
--------------------------------------------------------------------------------
PASSWORD
--------------------------------------------------------------------------------
AUTH
--------------------------------------------------------------------------------
1@1

MEMBER

1@1

ADMIN

EMAIL
--------------------------------------------------------------------------------
PASSWORD
--------------------------------------------------------------------------------
AUTH
--------------------------------------------------------------------------------
---


---
Join on)
select u.email, password, auth 
from   appuser u left join authorities a on (u.email = a.email)
where  u.email = '1@1';
EMAIL
--------------------------------------------------------------------------------
PASSWORD
--------------------------------------------------------------------------------
AUTH
--------------------------------------------------------------------------------
1@1

MEMBER

1@1

ADMIN

EMAIL
--------------------------------------------------------------------------------
PASSWORD
--------------------------------------------------------------------------------
AUTH
--------------------------------------------------------------------------------
---


---
Join using)
select email, password, auth 
from   appuser left join authorities using (email)
where  email = '1@1';
EMAIL
--------------------------------------------------------------------------------
PASSWORD
--------------------------------------------------------------------------------
AUTH
--------------------------------------------------------------------------------
1@1

MEMBER

1@1

ADMIN

EMAIL
--------------------------------------------------------------------------------
PASSWORD
--------------------------------------------------------------------------------
AUTH
--------------------------------------------------------------------------------

---

---
> desc appuser
SQL> desc appuser;
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 APP_USER_ID                               NOT NULL NUMBER(5)
 EMAIL                                     NOT NULL VARCHAR2(100)
 PASSWORD                                           VARCHAR2(100)
 MBTI_TYPE_ID                                       NUMBER(3)
 CREATED_AT                                         DATE
 UFILE                                              VARCHAR2(255)

SQL> select email from appuser;
EMAIL
--------------------------------------------------------------------------------
1@1
55@55
5@5
6@6
7@7
---
```


---------------------
#9. PAGING

---------------------
1. 프로젝트 복사하기 (spring 005 복사해서 spring007_paging)
2. 페이징?

model 
    > table
    delete from sboard1;

      insert into sboard1 ( ID    , APP_USER_ID , btitle, bcontent, bpass, bfile,  bip )
      select  sboard1_seq.nextval , APP_USER_ID , btitle, bcontent, bpass, bfile,  bip   from sboard1;  

SQL>       insert into sboard1 ( ID    , APP_USER_ID , btitle, bcontent, bpass, bfile,  bip )
  2        select  sboard1_seq.nextval , APP_USER_ID , btitle, bcontent, bpass, bfile,  bip   from sboard1;  

128 rows created.

SQL> select count (*) from sboard1;

  COUNT(*)
----------
       256


    > dto
    > dao  10개씩
    select *
    from (
        select row_number() over (order by create_at desc) as rnum,
         id    , app_user_id , btitle, bcontent, bpass, bfile,  bip,bhit, create_at from sboard1
    ) A
    where A.rnum between 21 and 30;
    ㄴ 입력후에 commit해주기!!(안하면 적용안됨.)

    
    1페이지 시작 1  , 끝 10
    2페이지 시작 11 , 끝 20
    3페이지 시작 21 , 끝 30

select count(*) from sboard1;

SQL> desc sboard1;
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 ID                                        NOT NULL NUMBER
 APP_USER_ID                               NOT NULL NUMBER
 BTITLE                                    NOT NULL VARCHAR2(1000)
 BCONTENT                                  NOT NULL CLOB
 BPASS                                     NOT NULL VARCHAR2(255)
 BFILE                                              VARCHAR2(255)
 BHIT                                               NUMBER(10)
 BIP                                       NOT NULL VARCHAR2(255)
 CREATE_AT                                          TIMESTAMP(6)


view
controller



---------------------
#10. SECURITY?

---------------------


