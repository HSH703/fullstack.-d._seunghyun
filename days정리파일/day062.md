1.------------------
## Github
# ■ 자바




2.------------------
# ■ ORACLE




# ■ JAVA
# ■ SPRING
spring008_security
EX006_member



# ■ PROJECT





필기................................................
■ 1. [안전한복사]
spring007_paging 복사해서 spring008_security 
- 스크린샷 개인카톡

■ 2. ex006번의 프로젝트합치기(합본연습하기.)
model
view
controller


---------------------
#10. SECURITY?

---------------------
```
---
▶ 1. Security?
- 애플리케이션의 보안(인증, 인가)를 담당
- Filter 흐름에 따라 처리

▶ 2. 인증 vs 인가
- 인증  Authentication [본인]이 맞는지 확인
- 인가  Authorization  인증된 사용자가 [접근가능]

▶ 3. Security 아키텍쳐
=====================
       ② [UsernamePasswordAuthentication Token]
          ↓
① Http Request  →     [AuthenticationFilter] ③ ...  →  [Authentication  Manager]
         ↓⑩               ⑨     ←
          [SecurityContextHolder]
=====================
---

---
-1. 사용자가 로그인 폼태그 시도 (username + password전달)
-2. ★ UsernamePasswordAuthentication 요청정보 Authentication을 생성
-3. Authentication 인증처리
        

-10. 인증완료 [사용자정보]  SecurityContextHolder 담기
   -  AuthenticationSuccessHandler 를 실행 (성공)
   -  AuthenticationFailureHandler 를 실행 (실패)

=====================
[Authentication  Manager] → [Authentication Probider(s)]
=====================
-4. Authentication Probider(s) 인증담당
1) UsernamePasswordAuthentication token 은 Provider를 찾는데 사용
2) AuthenticationProvider ★ 로그인정보를 db정보와 비교
3) UserDetailsService      ★ db에 있는 [사용자정보] 가져오기

[실습1] 설정
1. pom.xml - security
2. security-context.xml
3. web.xml 스프링구동
4. SecurityController
5. 테스트


## 1. pom.xml
      <!-- SECURITY -->
      <!-- SECURITY -->
      <!-- SECURITY -->
      <!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-core -->
      <dependency>
         <groupId>org.springframework.security</groupId>
         <artifactId>spring-security-web</artifactId>
         <version>4.2.2.RELEASE</version>
         <!-- <version>5.0.7.RELEASE</version> -->
      </dependency>
      <dependency>
         <groupId>org.springframework.security</groupId>
         <artifactId>spring-security-config</artifactId>
         <version>4.2.2.RELEASE</version>
      </dependency>
      <dependency>
         <groupId>org.springframework.security</groupId>
         <artifactId>spring-security-core</artifactId>
         <version>4.2.2.RELEASE</version>
      </dependency>
      <dependency>
         <groupId>org.springframework.security</groupId>
         <artifactId>spring-security-taglibs</artifactId>
         <version>4.2.2.RELEASE</version>
      </dependency>
      <!-- SECURITY -->
      <!-- SECURITY -->
      <!-- SECURITY -->

##2. security-context.xml
##3. web.xml 스프링구동
##4. SecurityController
##5. 테스트

[실습2]  DB연동
1. security-context.xml  <bean id="" class="BCrypt"/>
2. appuser-mapper.xml   / AppUserDao / mybatis-config.xml (Dto)
   1) 권한 삽입 
   insert into  authorities  (email, auth)  values ('1@1' , 'ROLE_MEMBER') 
   insert into  authorities  (email, auth)  values ('1@1' , 'ROLE_ADMIN') 

   2) email, password, 권한
   select     u.email, password, auth
   from       appuser  u  left outer join  authorities a  on  ( u.email = a.email )
   where      u.email = '1@1' 

    3) 회원가입 insert
3. TEST

[실습3]  로그인
1. security-context.xml 
    로그인폼
    로그인성공
    로그인실패
    유저정보
2. 설정내용  com.thejoeun703.security 
3. Controller - 로그인
4. view       - login.jsp


---
```